<!DOCTYPE html>
<html lang="mt">
<head>
    <meta charset="UTF-8">
      <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Il-Quran Imqaddes bil-Malti – A Maltese translation of the Quran by Dr. Muhammad S. Khatib and Dr. Ali F. Dalli. Explore the Quran's verses and their translations in Maltese.">
    <meta name="keywords" content="Quran, Quran translation, Quran in Maltese, Il-Quran Imqaddes, Islamic, Dr. Muhammad S. Khatib, Dr. Ali F. Dalli, Quran in Malta">
    <meta name="author" content="Dr. Muhammad S. Khatib, Dr. Ali F. Dalli">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Il-Quran Imqaddes bil-Malti – Maltese Translation of the Quran">
    <meta property="og:description" content="Explore the Quran's verses in Maltese through the translation of Dr. Muhammad S. Khatib and Dr. Ali F. Dalli.">
    <meta property="og:image" content="https://raw.githubusercontent.com/MaajidM/Malti/refs/heads/main/favicon.ico">
    <meta property="og:url" content="https://yourwebsite.com">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Il-Quran Imqaddes bil-Malti">
    <meta name="twitter:description" content="Maltese translation of the Quran, providing insights into the verses with translation by Dr. Muhammad S. Khatib and Dr. Ali F. Dalli.">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/MaajidM/Malti/refs/heads/main/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Quran, Quran translation, Quran in Maltese, Il-Quran Imqaddes, Islamic, Dr. Muhammad S. Khatib, Dr. Ali F. Dalli, Quran in Malta, Quranic verses, Quran translation in Maltese, Holy Quran, Quran in Maltese language, Islamic teachings, Quran interpretation, Surah Al-Fatiha, Surah Al-Baqarah, Islamic education, Quranic knowledge, Islamic book, Quran study, Quran recitation, Quran and translation, Quranic studies, Islamic texts, Quran for beginners, Quranic wisdom, Quranic guidance, Surah Al-Ikhlas, Surah Al-Fil, Surah Al-Nas, Surah Al-Buruj, Islamic principles, Islamic beliefs, Malta Quran translation, Quranic commentary, Quran in modern language, Quranic meanings, Quranic translation in English, Quranic translation in Arabic, Quranic translation in Urdu, Muslim community, Quranic research, Quranic reflection, Quranic teachings in Maltese, Islamic traditions, Quranic content, Quran for all, Quran in every language, Quran verse by verse, Quran translation guide, Quran and society, Quran and daily life, Quran interpretation by scholars, Quranic linguistics, and Quranic literature.">

    <title>Il-Quran Imqaddes bil-Malti – Traduzzjoni ta' Dr. Muhammad S. Khatib u Dr. Ali F. Dalli | The Holy Quran in Maltese – Translation by Dr. Muhammad S. Khatib and Dr. Ali F. Dalli</title>

    <!-- Favicon Link -->
    <link rel="icon" href="https://raw.githubusercontent.com/MaajidM/Malti/refs/heads/main/favicon.ico" type="image/x-icon">

    <script async src="https://cdn.vercel.com/analytics.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFFFF; /* White background */
            color: #333333; /* Dark gray text */
        }

        .header {
            background-color: #FFFFFF; /* White background for header */
            color: #333333; /* Dark gray text */
            text-align: center;
            padding: 10px 20px; /* Make the header smaller */
        }

        .footer {
            background-color: #FFFFFF; /* White background for footer */
            text-align: center;
            padding: 10px;
            color: #333333; /* Dark gray text */
        }

        .content {
            background-color: #FFFFFF; /* White background for content area */
            color: #333333; /* Dark gray text */
            border: 1px solid #E0E0E0; /* Light gray border */
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
            word-wrap: break-word;
            width: 40%; /* Set width to 40% for desktop */
            margin: 0 auto; /* Center the box */
        }

        @media (max-width: 768px) {
            .content {
                width: 95%; /* Almost full width for mobile */
            }
        }

        .verse-number {
            font-family: 'Inter', sans-serif; /* Inter font */
            font-weight: 400; /* Normal weight */
            font-size: 14px; /* Font size */
            line-height: 36px; /* Line height */
            color: rgb(119, 122, 123); /* Color */
            vertical-align: super; /* Make the verse number appear as superscript */
        }

        .verse-text {
            font-weight: 400;
            font-size: 18px;
            line-height: 30px;
            color: #333333;
            margin-bottom: 15px;
            display: inline;
        }

        .surah-name {
            font-weight: 700;
            font-size: 22px;
            color: #333333;
            text-align: center;
            margin-bottom: 20px;
            padding-top: 10px;
        }

        .verse-container {
            white-space: normal;
        }

        .navigation-buttons {
            margin-top: 20px;
            display: flex;
            justify-content: space-between;
        }

        .active {
            background-color: #E2F4EA; /* Soft green highlight */
            color: #006F3C; /* Dark green text color */
        }

        button:hover {
            background-color: #E8F5E9;
        }

        #menuButton {
            display: block;
            cursor: pointer;
            margin-right: 10px;
        }

        .sidebar.hidden {
            display: none;
        }

        .verse-selector {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin-top: 10px;
        }

        select {
            padding: 10px;
            background-color: #FAFAFA;
            border: 1px solid #E0E0E0;
            border-radius: 8px;
            font-size: 16px;
            color: #333333;
        }

        select:disabled {
            background-color: #F0F0F0;
        }
    </style>
</head>
<body class="bg-gray-50">

    <nav class="header p-4 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 flex items-center justify-between">
            <!-- Make the title clickable and redirect to the home page -->
            <a href="/" class="text-xl font-semibold text-center w-full">
                Il-Quran Imqaddes bil-Malti | The Holy Quran in Maltese
            </a>
        </div>
        <!-- Surah and Verse Selectors below the header and in the center -->
        <div class="verse-selector">
            <select id="surahSelector" class="p-2 border rounded-md bg-white text-gray-700">
                <option value="" disabled selected>Select Surah</option>
            </select>
            <select id="verseSelector" class="p-2 border rounded-md bg-white text-gray-700" disabled>
                <option value="" disabled selected>Select Verse</option>
            </select>
        </div>
    </nav>

    <div class="flex">
        <!-- Main Content -->
        <div class="flex-1 p-8">
            <div class="max-w-3xl mx-auto">
                <div id="verseContainer" class="content space-y-6">
                    <!-- Verses will be loaded here -->
                </div>
                <div class="navigation-buttons">
                    <button id="prevButton" class="p-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Previous</button>
                    <button id="nextButton" class="p-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300">Next</button>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2024 Il-Quran bil-Malti | All Rights Reserved</p>
        <p class="text-xs text-center text-gray-500">
            "Il-Qoran Imqaddes", Maltese translation of the Quran by Dr. Muhammad S. Khatib and Dr. Ali F. Dalli (2008), published by the Islamic Centre of Malta
        </p>
        <p class="text-xs text-center text-gray-500">
            For more information, visit <a href="https://quran.com" target="_blank" class="text-blue-500 underline">Quran.com</a>
        </p>
    </footer>

    <script>
        let quranData = {};
        let currentSurahIndex = 0;
        let currentVerseIndex = 0;
        const versesPerPage = 7;

        // Fetch Quran data
        fetch('quran.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok ' + response.statusText);
                }
                return response.json();
            })
            .then(data => {
                quranData = data;
                loadSurahList(); // Populate Surah Selector
                displaySurah(currentSurahIndex); // Show first Surah initially
            })
            .catch(error => {
                console.error('Error loading Quran data:', error);
                alert('Failed to load Quran data. Please check the console for details.');
            });

        const surahSelector = document.getElementById('surahSelector');
        const verseSelector = document.getElementById('verseSelector');
        const verseContainer = document.getElementById('verseContainer');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');

        // Populate Surah Selector
        function loadSurahList() {
            Object.keys(quranData).forEach((surahName, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = surahName;
                surahSelector.appendChild(option);
            });
        }

        // Update Verse Selector when a Surah is selected
        function loadVerseOptions(surahIndex) {
            verseSelector.innerHTML = '<option value="" disabled selected>Select Verse</option>';
            const surah = quranData[Object.keys(quranData)[surahIndex]];
            Object.keys(surah).forEach((verseNumber) => {
                const option = document.createElement('option');
                option.value = verseNumber;
                option.textContent = verseNumber;
                verseSelector.appendChild(option);
            });
            verseSelector.disabled = false;
        }

        // Display the current surah and verses
        function displaySurah(index) {
            const surahName = Object.keys(quranData)[index];
            const surahVerses = Object.values(quranData)[index];

            verseContainer.innerHTML = `<h2 class="surah-name">${surahName}</h2>`;

            const verseKeys = Object.keys(surahVerses);
            const start = currentVerseIndex;
            const end = Math.min(currentVerseIndex + versesPerPage, verseKeys.length);

            for (let i = start; i < end; i++) {
                const verseNumber = verseKeys[i];
                const verseText = surahVerses[verseNumber];
                verseContainer.innerHTML += `<p class="verse-text"><span class="verse-number">${verseNumber}</span> ${verseText}</p>`;
            }

            prevButton.disabled = currentVerseIndex === 0;
            nextButton.disabled = end === verseKeys.length;
        }

        // Navigate to the next set of verses
        nextButton.addEventListener('click', () => {
            const surahVerses = Object.values(quranData)[currentSurahIndex];
            const verseKeys = Object.keys(surahVerses);
            if (currentVerseIndex + versesPerPage < verseKeys.length) {
                currentVerseIndex += versesPerPage;
                displaySurah(currentSurahIndex);
            }
        });

        // Navigate to the previous set of verses
        prevButton.addEventListener('click', () => {
            if (currentVerseIndex > 0) {
                currentVerseIndex -= versesPerPage;
                displaySurah(currentSurahIndex);
            }
        });

        // Surah Selector Event Listener
        surahSelector.addEventListener('change', (event) => {
            currentSurahIndex = parseInt(event.target.value);
            currentVerseIndex = 0;
            loadVerseOptions(currentSurahIndex);
            displaySurah(currentSurahIndex);
        });

        // Verse Selector Event Listener
        verseSelector.addEventListener('change', (event) => {
            const selectedVerse = parseInt(event.target.value);
            currentVerseIndex = Math.max(0, selectedVerse - 1);
            displaySurah(currentSurahIndex);
        });

    </script>

</body>
</html>
